## select,poll,epoll区别？

I/O多路复用就是一个进程维护多个Socket，select/poll/epoll都是操作系统中用于I/O多路复用的机制。

select：select 使用固定长度的 BitsMap表示文件描述符集合，支持的文件描述符数量有限（1024）。

poll：poll使用动态数组来存储文件描述符，因此没有最大连接数限制。

但是 poll 和 select 并没有太大的本质区别，**都是使用「线性结构」存储进程关注的 Socket 集合，因此都需要遍历文件描述符集合来找到可读或可写的 Socket，时间复杂度为 O(n)，而且也需要在用户态与内核态之间拷贝文件描述符集合**，这种方式随着并发数上来，性能的损耗会呈指数级增长。

epoll：

* 对select和poll的优化，提供边缘触发和水平触发模式
* epoll 在内核里使用**红黑树来跟踪进程所有待检测的文件描述符**
* epoll 使用**事件驱动**的机制，不会遍历所有文件描述符，内核里**维护了一个链表来记录就绪事件**